<tapedeck>
  <options>
    "options" : "options",
  </options>
</tapedeck>
<template>
  <div class="container">
    <%

    var makeBox = function(key, value) {
      if (typeof(value) == "number") {
        %>
        <div class="number clearfix"> <span class="key"><%= key.replace("_", " ") %></span><input id="<%= key %>" class="number" value="<%= value %>" /> </div>
        <%
      }
      else if (typeof(value) == "string") {
        %>
        <div class="string clearfix"><span class="key"><%= key.replace("_", " ") %></span><input id="<%= key %>" class="string" value="<%= value %>" /> </div>
        <%
      }
      else if (typeof(value) == "object") {
        if (Object.keys(value).length == 0) {
          /* empty object */
          %>
          <div class="empty"><span class="key"><%= key.replace("_", " ") %></span> </div>
          <%
        }
        else {
          /* container object */
          %>
          <div class="container clearfix"><span class="key"><%= key.replace("_", " ") %></span>
          <%
          for (var subKey in value) {
            makeBox(subKey, value[subKey]);
          }
          %>
          </div>
          <%
        }
      }
    };

    delete params.options['debug'];
    for (var key in params.options) {
      makeBox(key, params.options[key]);
    }
    %>
  </div>
</template>